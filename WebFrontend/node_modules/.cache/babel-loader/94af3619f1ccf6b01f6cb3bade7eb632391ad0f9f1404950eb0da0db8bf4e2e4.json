{"ast":null,"code":"import { ref } from 'vue';\nimport { reactive } from 'vue';\nimport axios from 'axios';\nimport { useRouter, useRoute } from 'vue-router';\nimport { sha256 } from 'js-sha256';\nimport Cookies from 'js-cookie';\nexport default {\n  __name: 'SignupView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    let func = \"This is so that autocomplete doesn't do some bullshit\";\n    const router = useRouter();\n    const route = useRoute();\n\n    // Hash function\n    const formData = ref({\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    });\n    function test() {}\n    function exampleData() {\n      const formExample = ref({\n        name: 'Sira Tongsima',\n        email: 'song.tongsima@gmail.com',\n        password: '1234567890',\n        confirmPassword: '1234567890'\n      });\n      axios.post('http://localhost:7000/api/signup', formExample.value).then(response => {\n        test();\n      }).catch(error => {\n        console.error('Error signing up user:', error);\n        // Handle error (e.g., display error message to user)\n      });\n    }\n    function CheckSameEmail() {\n      axios.post('http://localhost:7000/api/checkEmail', {\n        email: formData.value.email\n      }).then(response => {\n        if (response.data['value']) {\n          formCheck.value.email = 2;\n        }\n      }).catch(error => {\n        formCheck.value.email = 2;\n      });\n    }\n    const formCheck = ref({\n      // false - doesn't exist, true - Good\n      name: true,\n      // 0 - no @, 1 - Good, 2 - Already Exists\n      email: true,\n      // false - short, true - good\n      password: true,\n      // false - not the same, true - good\n      confirmPassword: true\n    });\n    function checkValidName() {\n      formCheck.value.name = formData.value.name.length > 0;\n    }\n    function checkValidEmail() {\n      if (!formData.value.email.includes(\"@\")) {\n        formCheck.value.email = 0;\n      } else {\n        formCheck.value.email = 1;\n        CheckSameEmail();\n      }\n    }\n    function checkValidPassword() {\n      formCheck.value.password = formData.value.password.length >= 6;\n      formCheck.value.confirmPassword = formData.value.password == formData.value.confirmPassword;\n    }\n    function allOfTheAbove() {\n      checkValidName();\n      checkValidEmail();\n      checkValidPassword();\n\n      //exampleData()\n\n      let a = 0;\n      for (let key in formCheck.value) {\n        if (formCheck.value[key]) {\n          a += 1;\n        }\n      }\n      if (a == 4) {\n        axios.post('http://localhost:7000/api/signup', {\n          name: formData.value.name,\n          email: formData.value.email,\n          password: sha256(formData.value.password)\n        }).then(response => {\n          router.post({\n            name: 'login'\n          });\n        }).catch(error => {\n          console.error('Error signing up user:', error);\n          // Handle error (e.g., display error message to user)\n        });\n      }\n    }\n    const __returned__ = {\n      get func() {\n        return func;\n      },\n      set func(v) {\n        func = v;\n      },\n      router,\n      route,\n      formData,\n      test,\n      exampleData,\n      CheckSameEmail,\n      formCheck,\n      checkValidName,\n      checkValidEmail,\n      checkValidPassword,\n      allOfTheAbove,\n      ref,\n      reactive,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get sha256() {\n        return sha256;\n      },\n      get Cookies() {\n        return Cookies;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","axios","useRouter","useRoute","sha256","Cookies","func","router","route","formData","name","email","password","confirmPassword","test","exampleData","formExample","post","value","then","response","catch","error","console","CheckSameEmail","data","formCheck","checkValidName","length","checkValidEmail","includes","checkValidPassword","allOfTheAbove","a","key"],"sources":["/home/sirat/Code/vuempaproject/src/views/SignupView.vue"],"sourcesContent":["<script setup>\n/* eslint-disable */\nlet func = \"This is so that autocomplete doesn't do some bullshit\"\nimport { ref } from 'vue'\nimport { reactive } from 'vue'\nimport axios from 'axios'\nimport { useRouter, useRoute } from 'vue-router'\n\nconst router = useRouter()\nconst route = useRoute()\n\n// Hash function\nimport { sha256 } from 'js-sha256';\nimport Cookies from 'js-cookie';\n\nconst formData = ref({\n  name: '',\n  email: '',\n  password: '',\n  confirmPassword: ''\n})\n\nfunction test(){\n  \n}\n\nfunction exampleData(){\n  const formExample = ref({\n    name: 'Sira Tongsima',\n    email: 'song.tongsima@gmail.com',\n    password: '1234567890',\n    confirmPassword: '1234567890'\n  })\n\n  axios.post('http://localhost:7000/api/signup', formExample.value)\n    .then(response => {\n      test()\n    })\n    .catch(error => {\n      console.error('Error signing up user:', error);\n      // Handle error (e.g., display error message to user)\n    })\n\n}\n\nfunction CheckSameEmail(){\n  axios.post('http://localhost:7000/api/checkEmail', {email : formData.value.email})\n    .then(response => {\n      if (response.data['value']){\n        formCheck.value.email = 2\n      }\n    })\n    .catch(error => {\n      formCheck.value.email = 2\n    });\n}\n\nconst formCheck = ref({\n  // false - doesn't exist, true - Good\n  name: true, \n  // 0 - no @, 1 - Good, 2 - Already Exists\n  email: true,\n  // false - short, true - good\n  password: true,\n  // false - not the same, true - good\n  confirmPassword: true\n})\n\nfunction checkValidName(){\n  formCheck.value.name = formData.value.name.length > 0\n}\n\nfunction checkValidEmail(){\n  if (!formData.value.email.includes(\"@\")) {\n    formCheck.value.email = 0\n  } else{\n    formCheck.value.email = 1\n    CheckSameEmail()\n  }\n  \n}\n\nfunction checkValidPassword(){\n  formCheck.value.password = formData.value.password.length >= 6\n  formCheck.value.confirmPassword = formData.value.password == formData.value.confirmPassword\n}\n\nfunction allOfTheAbove(){\n  checkValidName()\n  checkValidEmail()\n  checkValidPassword()\n\n\n  //exampleData()\n\n  \n  let a = 0\n  for (let key in formCheck.value) {\n    if (formCheck.value[key]) {\n      a += 1 \n    }\n  }\n  if (a == 4){\n    axios.post('http://localhost:7000/api/signup', {name : formData.value.name, email : formData.value.email, password : sha256(formData.value.password)})\n    .then(response => {\n      router.post({name:'login'})\n\n    })\n    .catch(error => {\n      console.error('Error signing up user:', error);\n      // Handle error (e.g., display error message to user)\n    });\n  }\n  \n}\n\n\n</script>\n\n<template>\n\n  <div class=\"background\"></div>\n\n  <div class=\"titleWrapper\">\n      \n      <h1 class=\"titleText\">\n        <a href=\"index.html\">ADR Prediction</a>\n      </h1>\n      \n  </div>\n  \n    <h2 class=\"signupHeading\">\n      Create an account\n    </h2>\n\n    <div class=\"inputForm\" action=\"\">\n      <div>\n\n        <input type=\"text\" id=\"name\" class=\"box\" v-model=\"formData.name\" v-if=\"formCheck.name\" required placeholder=\"Name / Username\" @change=\"checkValidName\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"text\" id=\"name\" class=\"youDidSomethingBadBox\" v-model=\"formData.name\" required placeholder=\"Name / Username\" @change=\"checkValidName\"> \n          Please input a name / username\n        </div>\n\n      </div>\n      <br>\n      <div>      \n\n        <input type=\"email\" id=\"email\" class=\"box\" v-model=\"formData.email\" v-if=\"formCheck.email == 1\" required placeholder=\"Email\" @change=\"checkValidEmail\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"email\" id=\"email\" class=\"youDidSomethingBadBox\" v-model=\"formData.email\" required placeholder=\"Email\" @change=\"checkValidEmail\"> \n          <div v-if=\"formCheck.email==0\">Please input a valid email</div><div v-else>You can only register one account per email</div>\n        </div>\n        \n      </div>\n      <br>\n      <div>\n\n        <input type=\"password\" id=\"password\" class=\"box\" v-model=\"formData.password\" v-if=\"formCheck.password\" required placeholder=\"Password\" @change=\"checkValidPassword\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"password\" id=\"password\" class=\"youDidSomethingBadBox\" v-model=\"formData.password\" required placeholder=\"Password\" @change=\"checkValidPassword\"> \n          Password should be atleast 6 characters\n        </div>\n\n      </div>\n      <br>\n      <div>\n\n        <input type=\"password\" id=\"confirmPassword\" class=\"box\" v-model=\"formData.confirmPassword\" v-if=\"formCheck.confirmPassword\" required placeholder=\"Confirm password\" @change=\"checkValidPassword\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"password\" id=\"password\" class=\"youDidSomethingBadBox\" v-model=\"formData.confirmPassword\" required placeholder=\"Confirm password\" @change=\"checkValidPassword\"> \n          Password does not match\n        </div>\n\n      </div>\n\n      <button @click=\"allOfTheAbove\" class=\"signupSubmitButton\">Sign Up</button>\n      <RouterLink to=\"login\" class=\"redirectToLogin\" > Have an account? <u>Login</u></RouterLink>\n    </div>\n\n</template>\n\n<style>\n\na:link {\n  color: white;\n  text-decoration: none;\n}\n\na:visited {\n  color: white;\n  text-decoration: none;\n}\n\na:hover {\n  color: white;\n}\n\na:active {\n  color: white;\n  text-decoration: none;\n}\n\n.background{\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  padding: 100%;\n  background-color: #EBEBEB;\n}\n\n.titleWrapper{\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    background: #FF6700 ;\n    width: 100%;\n    padding-top: 1.5%;\n    padding-bottom: 1%;\n}\n\n.titleText{\n    font-family: Arial, Helvetica, sans-serif;\n    display: inline;\n    padding-left: 1%;\n    color: white;\n    font-weight: 800;\n}\n\n\n.signupHeading{\n  font-family: Arial, Helvetica, sans-serif;\n  position: absolute;\n  top: 6%;\n  left: 50%;\n  transform: translate(-50%);\n  font-weight: 900;\n  font-size: 2.6em;\n}\n\n/* The input box thing lol */ \n\n.box{\n  border: 3px solid #000;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing:border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}\n.box:focus{\n  border: 3px solid #2B4570;\n}\n\n.youDidSomethingBadBox {\n  border: 3px solid red;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing:border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}                \n                \n/* The submit button */\n.signupSubmitButton{\n  position: inherit;\n  top: 130%;\n  left: 50%;\n  display: inline-block;\n  outline: none;\n  cursor: pointer;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 12px 24px;\n  border: 0;\n  color: #3a4149;\n  background: #FF6700;\n  line-height: 1.15;\n  font-size: 1em;\n  transform: translate(-50%);\n}\n.signupSubmitButton:hover {\n  transition: all .1s ease;\n  box-shadow: 0 0 0 0 #fff, 0 0 0 3px #1de9b6;\n}\n                \n.redirectToLogin {\n  color: white;\n  position: absolute; \n  top: 110%; \n  left: 50%; \n  transform: translate(-50%);\n  background: #FF6700 ;\n  padding: 5px;\n  border-radius: 3px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}