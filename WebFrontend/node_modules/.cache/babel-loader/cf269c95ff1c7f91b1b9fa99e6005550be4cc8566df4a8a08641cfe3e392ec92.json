{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { reactive } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { sha256 } from \"js-sha256\";\nimport Cookies from \"js-cookie\";\nexport default {\n  __name: 'SignupView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    let func = \"This is so that autocomplete doesn't do some bullshit\";\n    const router = useRouter();\n    const route = useRoute();\n\n    // Hash function\n    const formData = ref({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    });\n    const formCheck = ref({\n      // false - doesn't exist, true - Good\n      name: true,\n      // 0 - no @, 1 - Good, 2 - Already Exists\n      email: true,\n      // false - short, true - good\n      password: true,\n      // false - not the same, true - good\n      confirmPassword: true\n    });\n    function checkValidName() {\n      formCheck.value.name = formData.value.name.length > 0;\n    }\n    function checkValidEmail() {\n      if (!formData.value.email.includes(\"@\")) {\n        formCheck.value.email = 0;\n      } else {\n        formCheck.value.email = 1;\n        axios.post(\"http://localhost:7000/api/checkEmail\", {\n          email: formData.value.email\n        }).then(response => {\n          if (response.data[\"value\"]) {\n            formCheck.value.email = 2;\n          }\n        }).catch(error => {\n          alert(\"Server offline\");\n          console.log(error);\n        });\n      }\n    }\n    function checkValidPassword() {\n      formCheck.value.password = formData.value.password.length >= 6;\n      formCheck.value.confirmPassword = formData.value.password == formData.value.confirmPassword;\n    }\n    function allOfTheAbove() {\n      checkValidName();\n      checkValidEmail();\n      checkValidPassword();\n\n      //exampleData()\n\n      let a = 0;\n      for (let key in formCheck.value) {\n        if (formCheck.value[key]) {\n          a += 1;\n        }\n      }\n      if (a == 4) {\n        axios.post(\"http://localhost:7000/api/signup\", {\n          name: formData.value.name,\n          email: formData.value.email,\n          password: sha256(formData.value.password)\n        }).then(response => {\n          router.push({\n            name: \"login\"\n          });\n        }).catch(error => {\n          console.error(\"Error signing up user:\", error);\n          // Handle error (e.g., display error message to user)\n        });\n      }\n    }\n    const __returned__ = {\n      get func() {\n        return func;\n      },\n      set func(v) {\n        func = v;\n      },\n      router,\n      route,\n      formData,\n      formCheck,\n      checkValidName,\n      checkValidEmail,\n      checkValidPassword,\n      allOfTheAbove,\n      ref,\n      reactive,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get sha256() {\n        return sha256;\n      },\n      get Cookies() {\n        return Cookies;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","axios","useRouter","useRoute","sha256","Cookies","func","router","route","formData","name","email","password","confirmPassword","formCheck","checkValidName","value","length","checkValidEmail","includes","post","then","response","data","catch","error","alert","console","log","checkValidPassword","allOfTheAbove","a","key","push"],"sources":["/home/sirat/Code/vuempaproject/src/views/SignupView.vue"],"sourcesContent":["<script setup>\n/* eslint-disable */\nlet func = \"This is so that autocomplete doesn't do some bullshit\";\nimport { ref } from \"vue\";\nimport { reactive } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter, useRoute } from \"vue-router\";\n\nconst router = useRouter();\nconst route = useRoute();\n\n// Hash function\nimport { sha256 } from \"js-sha256\";\nimport Cookies from \"js-cookie\";\n\nconst formData = ref({\n  name: \"\",\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n});\n\nconst formCheck = ref({\n  // false - doesn't exist, true - Good\n  name: true,\n  // 0 - no @, 1 - Good, 2 - Already Exists\n  email: true,\n  // false - short, true - good\n  password: true,\n  // false - not the same, true - good\n  confirmPassword: true,\n});\n\nfunction checkValidName() {\n  formCheck.value.name = formData.value.name.length > 0;\n}\n\nfunction checkValidEmail() {\n  if (!formData.value.email.includes(\"@\")) {\n    formCheck.value.email = 0;\n  } else {\n    formCheck.value.email = 1;\n    axios\n      .post(\"http://localhost:7000/api/checkEmail\", {\n        email: formData.value.email,\n      })\n      .then((response) => {\n        if (response.data[\"value\"]) {\n          formCheck.value.email = 2;\n        }\n      })\n      .catch((error) => {\n        alert(\"Server offline\");\n        console.log(error);\n      });\n  }\n}\n\nfunction checkValidPassword() {\n  formCheck.value.password = formData.value.password.length >= 6;\n  formCheck.value.confirmPassword =\n    formData.value.password == formData.value.confirmPassword;\n}\n\nfunction allOfTheAbove() {\n  checkValidName();\n  checkValidEmail();\n  checkValidPassword();\n\n  //exampleData()\n\n  let a = 0;\n  for (let key in formCheck.value) {\n    if (formCheck.value[key]) {\n      a += 1;\n    }\n  }\n  if (a == 4) {\n    axios\n      .post(\"http://localhost:7000/api/signup\", {\n        name: formData.value.name,\n        email: formData.value.email,\n        password: sha256(formData.value.password),\n      })\n      .then((response) => {\n        router.push({ name: \"login\" });\n      })\n      .catch((error) => {\n        console.error(\"Error signing up user:\", error);\n        // Handle error (e.g., display error message to user)\n      });\n  }\n}\n</script>\n\n<template>\n  <div class=\"background\"></div>\n\n  <div class=\"titleWrapper\">\n    <h1 class=\"titleText\">\n      <RouterLink to=\"home\"> ADR Prediction</RouterLink>\n    </h1>\n  </div>\n\n  <h2 class=\"signupHeading\">Create an account</h2>\n\n  <div class=\"inputForm\" action=\"\">\n    <div>\n      <input\n        maxlength=\"100\"\n        type=\"text\"\n        id=\"name\"\n        class=\"box\"\n        v-model=\"formData.name\"\n        v-if=\"formCheck.name\"\n        required\n        placeholder=\"Name / Username\"\n        @change=\"checkValidName\"\n      />\n      <div v-else style=\"color: red; font-size: 0.9em\">\n        <input\n          maxlength=\"100\"\n          type=\"text\"\n          id=\"name\"\n          class=\"youDidSomethingBadBox\"\n          v-model=\"formData.name\"\n          required\n          placeholder=\"Name / Username\"\n          @change=\"checkValidName\"\n        />\n        Please input a name / username\n      </div>\n    </div>\n    <br />\n    <div>\n      <input\n        maxlength=\"100\"\n        type=\"email\"\n        id=\"email\"\n        class=\"box\"\n        v-model=\"formData.email\"\n        v-if=\"formCheck.email == 1\"\n        required\n        placeholder=\"Email\"\n        @change=\"checkValidEmail\"\n      />\n      <div v-else style=\"color: red; font-size: 0.9em\">\n        <input\n          maxlength=\"100\"\n          type=\"email\"\n          id=\"email\"\n          class=\"youDidSomethingBadBox\"\n          v-model=\"formData.email\"\n          required\n          placeholder=\"Email\"\n          @change=\"checkValidEmail\"\n        />\n        <div v-if=\"formCheck.email == 0\">Please input a valid email</div>\n        <div v-else>You can only register one account per email</div>\n      </div>\n    </div>\n    <br />\n    <div>\n      <input\n        maxlength=\"100\"\n        type=\"password\"\n        id=\"password\"\n        class=\"box\"\n        v-model=\"formData.password\"\n        v-if=\"formCheck.password\"\n        required\n        placeholder=\"Password\"\n        @change=\"checkValidPassword\"\n      />\n      <div v-else style=\"color: red; font-size: 0.9em\">\n        <input\n          maxlength=\"100\"\n          type=\"password\"\n          id=\"password\"\n          class=\"youDidSomethingBadBox\"\n          v-model=\"formData.password\"\n          required\n          placeholder=\"Password\"\n          @change=\"checkValidPassword\"\n        />\n        Password should be atleast 6 characters\n      </div>\n    </div>\n    <br />\n    <div>\n      <input\n        maxlength=\"100\"\n        type=\"password\"\n        id=\"confirmPassword\"\n        class=\"box\"\n        v-model=\"formData.confirmPassword\"\n        v-if=\"formCheck.confirmPassword\"\n        required\n        placeholder=\"Confirm password\"\n        @change=\"checkValidPassword\"\n      />\n      <div v-else style=\"color: red; font-size: 0.9em\">\n        <input\n          maxlength=\"100\"\n          type=\"password\"\n          id=\"password\"\n          class=\"youDidSomethingBadBox\"\n          v-model=\"formData.confirmPassword\"\n          required\n          placeholder=\"Confirm password\"\n          @change=\"checkValidPassword\"\n        />\n        Password does not match\n      </div>\n    </div>\n\n    <button @click=\"allOfTheAbove\" class=\"signupSubmitButton\">Sign Up</button>\n    <RouterLink to=\"login\" class=\"redirectToLogin\">\n      Have an account? <u>Login</u></RouterLink\n    >\n  </div>\n</template>\n\n<style>\na:link {\n  color: white;\n  text-decoration: none;\n}\n\na:visited {\n  color: white;\n  text-decoration: none;\n}\n\na:hover {\n  color: white;\n}\n\na:active {\n  color: white;\n  text-decoration: none;\n}\n\n.background {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  padding: 100%;\n  background-color: #ebebeb;\n}\n\n.signupHeading {\n  font-family: Arial, Helvetica, sans-serif;\n  position: absolute;\n  top: 6%;\n  left: 50%;\n  transform: translate(-50%);\n  font-weight: 900;\n  font-size: 2.6em;\n}\n\n/* The input box thing lol */\n\n.box {\n  border: 3px solid #000;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing: border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}\n.box:focus {\n  border: 3px solid #2b4570;\n}\n\n.youDidSomethingBadBox {\n  border: 3px solid red;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing: border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}\n\n/* The submit button */\n.signupSubmitButton {\n  position: inherit;\n  top: 130%;\n  left: 50%;\n  display: inline-block;\n  outline: none;\n  cursor: pointer;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 12px 24px;\n  border: 0;\n  color: #3a4149;\n  background: #ff6700;\n  line-height: 1.15;\n  font-size: 1em;\n  transform: translate(-50%);\n}\n.signupSubmitButton:hover {\n  transition: all 0.1s ease;\n  box-shadow: 0 0 0 0 #fff, 0 0 0 3px #1de9b6;\n}\n\n.redirectToLogin {\n  color: white;\n  position: absolute;\n  top: 110%;\n  left: 50%;\n  transform: translate(-50%);\n  background: #ff6700;\n  padding: 5px;\n  border-radius: 3px;\n}\n</style>"],"mappings":";AAGA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,QAAQ,QAAQ,KAAK;AAC9B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;AAMhD,SAASC,MAAM,QAAQ,WAAW;AAClC,OAAOC,OAAO,MAAM,WAAW;;;;;;;;IAZ/B;IACA,IAAIC,IAAI,GAAG,uDAAuD;IAMlE,MAAMC,MAAM,GAAGL,SAAS,CAAC,CAAC;IAC1B,MAAMM,KAAK,GAAGL,QAAQ,CAAC,CAAC;;IAExB;IAIA,MAAMM,QAAQ,GAAGV,GAAG,CAAC;MACnBW,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,MAAMC,SAAS,GAAGf,GAAG,CAAC;MACpB;MACAW,IAAI,EAAE,IAAI;MACV;MACAC,KAAK,EAAE,IAAI;MACX;MACAC,QAAQ,EAAE,IAAI;MACd;MACAC,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,SAASE,cAAcA,CAAA,EAAG;MACxBD,SAAS,CAACE,KAAK,CAACN,IAAI,GAAGD,QAAQ,CAACO,KAAK,CAACN,IAAI,CAACO,MAAM,GAAG,CAAC;IACvD;IAEA,SAASC,eAAeA,CAAA,EAAG;MACzB,IAAI,CAACT,QAAQ,CAACO,KAAK,CAACL,KAAK,CAACQ,QAAQ,CAAC,GAAG,CAAC,EAAE;QACvCL,SAAS,CAACE,KAAK,CAACL,KAAK,GAAG,CAAC;MAC3B,CAAC,MAAM;QACLG,SAAS,CAACE,KAAK,CAACL,KAAK,GAAG,CAAC;QACzBV,KAAK,CACFmB,IAAI,CAAC,sCAAsC,EAAE;UAC5CT,KAAK,EAAEF,QAAQ,CAACO,KAAK,CAACL;QACxB,CAAC,CAAC,CACDU,IAAI,CAAEC,QAAQ,IAAK;UAClB,IAAIA,QAAQ,CAACC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC1BT,SAAS,CAACE,KAAK,CAACL,KAAK,GAAG,CAAC;UAC3B;QACF,CAAC,CAAC,CACDa,KAAK,CAAEC,KAAK,IAAK;UAChBC,KAAK,CAAC,gBAAgB,CAAC;UACvBC,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;QACpB,CAAC,CAAC;MACN;IACF;IAEA,SAASI,kBAAkBA,CAAA,EAAG;MAC5Bf,SAAS,CAACE,KAAK,CAACJ,QAAQ,GAAGH,QAAQ,CAACO,KAAK,CAACJ,QAAQ,CAACK,MAAM,IAAI,CAAC;MAC9DH,SAAS,CAACE,KAAK,CAACH,eAAe,GAC7BJ,QAAQ,CAACO,KAAK,CAACJ,QAAQ,IAAIH,QAAQ,CAACO,KAAK,CAACH,eAAe;IAC7D;IAEA,SAASiB,aAAaA,CAAA,EAAG;MACvBf,cAAc,CAAC,CAAC;MAChBG,eAAe,CAAC,CAAC;MACjBW,kBAAkB,CAAC,CAAC;;MAEpB;;MAEA,IAAIE,CAAC,GAAG,CAAC;MACT,KAAK,IAAIC,GAAG,IAAIlB,SAAS,CAACE,KAAK,EAAE;QAC/B,IAAIF,SAAS,CAACE,KAAK,CAACgB,GAAG,CAAC,EAAE;UACxBD,CAAC,IAAI,CAAC;QACR;MACF;MACA,IAAIA,CAAC,IAAI,CAAC,EAAE;QACV9B,KAAK,CACFmB,IAAI,CAAC,kCAAkC,EAAE;UACxCV,IAAI,EAAED,QAAQ,CAACO,KAAK,CAACN,IAAI;UACzBC,KAAK,EAAEF,QAAQ,CAACO,KAAK,CAACL,KAAK;UAC3BC,QAAQ,EAAER,MAAM,CAACK,QAAQ,CAACO,KAAK,CAACJ,QAAQ;QAC1C,CAAC,CAAC,CACDS,IAAI,CAAEC,QAAQ,IAAK;UAClBf,MAAM,CAAC0B,IAAI,CAAC;YAAEvB,IAAI,EAAE;UAAQ,CAAC,CAAC;QAChC,CAAC,CAAC,CACDc,KAAK,CAAEC,KAAK,IAAK;UAChBE,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C;QACF,CAAC,CAAC;MACN;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}