{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"background\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"titleWrapper\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"titleText\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"index.html\"\n}, \"ADR Prediction\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"accountName\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"u\", null, \"Sign out\", -1 /* HOISTED */);\nconst _hoisted_6 = [_hoisted_5];\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"headingWrapper\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"heading\"\n}, \" Upload your DNA file (.FastQ) \")], -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"buttonWrapper\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"padding-bottom\": \"10%\",\n    \"font-size\": \"1.5em\"\n  }\n}, [/*#__PURE__*/_createTextVNode(\"Select \"), /*#__PURE__*/_createElementVNode(\"i\", null, \"FastQ\"), /*#__PURE__*/_createTextVNode(\" file to upload:\")], -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"file\"\n}, \"Choose a file\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"filenameDisplay\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"label\", _hoisted_4, _toDisplayString($setup.accountName || \"No account\"), 1 /* TEXT */), _createElementVNode(\"label\", {\n    onClick: $setup.signOut,\n    class: \"\"\n  }, [..._hoisted_6])]), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    class: \"inputfile\",\n    accept: \".txt, .fq, .FastQ, .fastq\",\n    onChange: $setup.changeFileInfo\n  }, null, 32 /* NEED_HYDRATION */), _hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_createTextVNode(\"File selected : \" + _toDisplayString($setup.fileName || \"None\"), 1 /* TEXT */), _hoisted_12, _createTextVNode(\"Size : \" + _toDisplayString($setup.fileSize), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"submitButton\",\n    onClick: $setup.uploadFile\n  }, \"Submit\")])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","href","_hoisted_5","style","_createTextVNode","for","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$setup","accountName","onClick","signOut","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","type","name","id","accept","onChange","changeFileInfo","_hoisted_10","_hoisted_11","fileName","_hoisted_12","fileSize","uploadFile"],"sources":["/home/sirat/Code/vuempaproject/src/views/UploadView.vue"],"sourcesContent":["<script setup>\n/* eslint-disable */\nimport { ref } from 'vue'\nimport { reactive } from 'vue'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n\nconst fileName = ref(null)\nconst fileSize = ref(\"0 Kb\")\nconst accountName = ref(\"Loading...\")\nconst accountEmail = ref(null)\nconst accountId = ref(null)\n\nfunction changeFileInfo(event){\n  fileName.value = event.target.files[0].name\n  fileSize.value = formatFileSize(event.target.files[0].size)\n}\n\nconst formatFileSize = (bytes) => {\n  const units = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  let index = 0;\n  while (bytes >= 1024 && index < 4) {\n    bytes /= 1024;\n    index++;\n  }\n  return `${bytes.toFixed(0)} ${units[index]}`\n};\n\nfunction getAccountInfo(){\n  axios.post(\"http://localhost:7000/api/getAccountInfo\",{session_cookie : Cookies.get('session_cookie')})\n    .then(response => {\n      if (response.data['name'] === null){\n        window.location.href = \"signup.html\"\n      }\n      accountName.value = response.data['name']\n    })\n    .catch(error => {\n      console.error('Error getting info :', error);\n    });\n}\n\nfunction uploadFile(){\n  const formData = new FormData()\n  formData.append('file', document.getElementById('file').files[0])\n  axios.post(\"http://localhost:7000/api/uploadFile\", \n            formData, \n            {headers: {\"Content-Type\" : 'multipart/form-data', \n                      'Authorization': `Bearer ${Cookies.get('session_cookie')}`} })\n  .then(response => {\n    alert(response.data)\n  })\n  .catch(error => {\n    console.error('Error getting info :', error);\n  });\n}\n\nfunction signOut(){\n  Cookies.remove('session_cookie')\n  window.location.href = \"login.html\"\n}\n\ngetAccountInfo()\n</script>\n\n<template>\n\n  <div class=\"background\"></div>\n\n  <div class=\"titleWrapper\">\n      \n      <h1 class=\"titleText\">\n          <a href=\"index.html\">ADR Prediction</a>\n      </h1>\n      \n      <label class=\"accountName\">{{accountName || \"No account\"}}</label>\n      <label @click=\"signOut\" class=\"\"><u>Sign out</u></label>\n      \n  </div>\n  \n  <div class=\"headingWrapper\">\n      <h2 class=\"heading\">\n        Upload your DNA file (.FastQ)\n      </h2>\n  </div>\n  \n  <div class=\"buttonWrapper\">\n\n    <div style=\"padding-bottom: 10%; font-size: 1.5em;\">Select <i>FastQ</i> file to upload:</div> \n    <input type=\"file\" name=\"file\" id=\"file\" class=\"inputfile\" accept=\".txt, .fq, .FastQ, .fastq\" @change=\"changeFileInfo\"/>\n    <label for=\"file\">Choose a file</label>\n    <div class=\"filenameDisplay\">File selected : {{fileName || \"None\"}}<br>Size : {{fileSize}}</div>\n    <div><button class=\"submitButton\" @click=\"uploadFile\">Submit</button></div>\n  </div>\n  \n  \n\n</template>\n\n<style>\na:link {\n  color: white;\n  text-decoration: none;\n}\n\na:visited {\n  color: white;\n  text-decoration: none;\n}\n\na:hover {\n  color: white;\n}\n\na:active {\n  color: white;\n  text-decoration: none;\n}\n\n.background{\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  padding: 100%;\n  background-color: #EBEBEB;\n}\n\n.titleWrapper{\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    background: #FF6700 ;\n    width: 100%;\n    padding-top: 1%;\n    padding-bottom: 1%;\n}\n\n.titleText{\n    display: inline;\n    padding-left: 1%;\n    color: white;\n    font-weight: 800;\n}\n\n.accountName {\n  position: inherit;\n  font-family: Arial, Helvetica, sans-serif;\n  color: white;\n  font-size: 1.5em;\n  top: 3%;\n  left: 80%;\n}\n\n.headingWrapper{\n    position: absolute;\n    top: 10%;\n    left: 50%;\n}\n\n.heading{\n    transform: translate(-50%);\n    font-size: xx-large;\n}\n\n.buttonWrapper{\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translate(-50%);\n}\n\n.inputfile {\n\twidth: 0.1px;\n\theight: 0.1px;\n\topacity: 0;\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: -1;\n}\n\n.inputfile + label {\n    transform: translate(1%);\n    padding: 10%;\n    padding-left: 20%;\n    padding-right: 20%;\n    font-size: 1.7em;\n    font-weight: 700;\n    color: white;\n    background-color: #C0C0C0;\n    display: inline-block;\n    border-radius: 4px;\n    border-style: none;\n    text-align: center;\n}\n\n.inputfile:focus + label,\n\n.inputfile + label {\n\tcursor: pointer; /* \"hand\" cursor */\n}\n\n.submitButton {\n  position: absolute;\n  top: 156%;\n  left: 50%;\n  transform: translate(-50%);\n  outline: none;\n  cursor: pointer;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 12px 24px;\n  border: 0;\n  color: #3a4149;\n  background: #FF6700;\n  line-height: 1.15;\n  font-size: 1em;\n\n}\n\n.submitButton:hover {\n  transition: all .1s ease;\n  box-shadow: 0 0 0 0 #fff, 0 0 0 3px #1de9b6;\n}\n.filenameDisplay{\n    position: absolute;\n    left: 50%;\n    top: 115%;\n    transform: translate(-50%);\n    white-space: nowrap;\n}\n\n.uploadedFileViewer{\n    background-color: rgb(161, 61, 99);\n    color: #fff;\n    position: absolute;\n    padding: 2%;\n    border-radius: 4px;\n    border-style: none;\n    white-space: nowrap;\n    top: 15%;\n    left: 50%;\n    transform: translate(-50%);\n    font-size: 2em;\n}\n</style>"],"mappings":";gCAkEEA,mBAAA,CAA8B;EAAzBC,KAAK,EAAC;AAAY;;EAElBA,KAAK,EAAC;AAAc;gCAErBD,mBAAA,CAEK;EAFDC,KAAK,EAAC;AAAW,I,aACjBD,mBAAA,CAAuC;EAApCE,IAAI,EAAC;AAAY,GAAC,gBAAc,E;;EAGhCD,KAAK,EAAC;AAAa;gCACOD,mBAAA,CAAe,WAAZ,UAAQ;oBAAXG,UAAe,C;gCAIpDH,mBAAA,CAIM;EAJDC,KAAK,EAAC;AAAgB,I,aACvBD,mBAAA,CAEK;EAFDC,KAAK,EAAC;AAAS,GAAC,iCAEpB,E;;EAGCA,KAAK,EAAC;AAAe;gCAExBD,mBAAA,CAA6F;EAAxFI,KAA8C,EAA9C;IAAA;IAAA;EAAA;AAA8C,I,aAvFvDC,gBAAA,CAuFwD,SAAO,G,aAAAL,mBAAA,CAAY,WAAT,OAAK,G,aAvFvEK,gBAAA,CAuF2E,kBAAgB,E;iCAEvFL,mBAAA,CAAuC;EAAhCM,GAAG,EAAC;AAAM,GAAC,eAAa;;EAC1BL,KAAK,EAAC;AAAiB;iCAAuCD,mBAAA,CAAI;;uBA1F3EO,mBAAA,CAAAC,SAAA,SAkEEC,UAA8B,EAE9BT,mBAAA,CASM,OATNU,UASM,GAPFC,UAEK,EAELX,mBAAA,CAAkE,SAAlEY,UAAkE,EAAAC,gBAAA,CAArCC,MAAA,CAAAC,WAAW,kCACxCf,mBAAA,CAAwD;IAAhDgB,OAAK,EAAEF,MAAA,CAAAG,OAAO;IAAEhB,KAAK,EAAC;KA3EpC,IAAAiB,UAAA,G,GA+EEC,UAIM,EAENnB,mBAAA,CAOM,OAPNoB,UAOM,GALJC,UAA6F,EAC7FrB,mBAAA,CAAwH;IAAjHsB,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAACvB,KAAK,EAAC,WAAW;IAACwB,MAAM,EAAC,2BAA2B;IAAEC,QAAM,EAAEZ,MAAA,CAAAa;qCACvGC,WAAuC,EACvC5B,mBAAA,CAAgG,OAAhG6B,WAAgG,GA1FpGxB,gBAAA,CA0FiC,kBAAgB,GAAAQ,gBAAA,CAAEC,MAAA,CAAAgB,QAAQ,4BAAYC,WAAI,EA1F3E1B,gBAAA,CA0F2E,SAAO,GAAAQ,gBAAA,CAAEC,MAAA,CAAAkB,QAAQ,iB,GACxFhC,mBAAA,CAA2E,cAAtEA,mBAAA,CAAgE;IAAxDC,KAAK,EAAC,cAAc;IAAEe,OAAK,EAAEF,MAAA,CAAAmB;KAAY,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}