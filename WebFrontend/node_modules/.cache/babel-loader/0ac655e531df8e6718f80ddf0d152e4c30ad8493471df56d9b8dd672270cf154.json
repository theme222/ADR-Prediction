{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"background\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"titleWrapper\"\n};\nconst _hoisted_3 = {\n  class: \"titleText\"\n};\nconst _hoisted_4 = {\n  class: \"accountName\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"headingWrapper\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"heading\"\n}, \" Upload your DNA file (.FastQ) \")], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"uploadButtonWrapper\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"position\": \"absolute\",\n    \"font-family\": \"Arial, Helvetica, sans-serif\",\n    \"font-size\": \"1.5em\",\n    \"top\": \"8%\",\n    \"left\": \"50%\",\n    \"transform\": \"translate(-50%,-50%)\"\n  }\n}, [/*#__PURE__*/_createTextVNode(\"Select \"), /*#__PURE__*/_createElementVNode(\"i\", null, \"FastQ\"), /*#__PURE__*/_createTextVNode(\" file to upload:\")], -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"file\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"position\": \"absolute\",\n    \"top\": \"50%\",\n    \"left\": \"50%\",\n    \"transform\": \"translate(-50%,-50%)\"\n  }\n}, \"CLICK TO UPLOAD\")], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"uploadFilenameDisplay\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  style: {\n    \"color\": \"red\",\n    \"font-size\": \"0.9em\",\n    \"position\": \"absolute\",\n    \"top\": \"75%\",\n    \"left\": \"50%\",\n    \"transform\": \"translate(-50%,-50%)\"\n  }\n};\nexport function render(_ctx, _cache) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", _hoisted_3, [_createVNode(_component_RouterLink, {\n    to: \"home\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" ADR Prediction\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"label\", _hoisted_4, _toDisplayString(_ctx.accountName || \"No account\"), 1 /* TEXT */)]), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    class: \"inputUploadfile\",\n    accept: \".txt, .fq, .FastQ, .fastq\",\n    onChange: _cache[0] || (_cache[0] = (...args) => _ctx.changeFileInfo && _ctx.changeFileInfo(...args))\n  }, null, 32 /* NEED_HYDRATION */), _hoisted_8, _createElementVNode(\"div\", _hoisted_9, \"File selected : \" + _toDisplayString(_ctx.fileName || \"None\") + \" Size : \" + _toDisplayString(_ctx.fileSize), 1 /* TEXT */), _ctx.validLabel ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 0,\n    maxlength: \"100\",\n    type: \"text\",\n    id: \"name\",\n    class: \"box\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.labelValue = $event),\n    style: {\n      \"position\": \"absolute\",\n      \"top\": \"75%\",\n      \"left\": \"50%\",\n      \"transform\": \"translate(-50%,-50%)\"\n    },\n    placeholder: \"Input sequece label / identifier (please don't sql inject)\",\n    onChange: _cache[2] || (_cache[2] = (...args) => _ctx.checkValidLabel && _ctx.checkValidLabel(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)), [[_vModelText, _ctx.labelValue]]) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    maxlength: \"100\",\n    type: \"password\",\n    id: \"password\",\n    class: \"youDidSomethingBadBox\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.formData.password = $event),\n    required: \"\",\n    placeholder: \"Password\",\n    onChange: _cache[4] || (_cache[4] = (...args) => _ctx.checkValidLabel && _ctx.checkValidLabel(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, _ctx.formData.password]]), _createTextVNode(\" Password should be atleast 6 characters \")])), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"uploadSubmitButton\",\n    onClick: _cache[5] || (_cache[5] = (...args) => _ctx.uploadFile && _ctx.uploadFile(...args))\n  }, \"Submit\")])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","style","_createTextVNode","for","key","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_RouterLink","to","default","_withCtx","_","_hoisted_4","_toDisplayString","_ctx","accountName","_hoisted_5","_hoisted_6","_hoisted_7","type","name","id","accept","onChange","_cache","args","changeFileInfo","_hoisted_8","_hoisted_9","fileName","fileSize","validLabel","maxlength","$event","labelValue","placeholder","checkValidLabel","_hoisted_10","formData","password","required","onClick","uploadFile"],"sources":["/home/sirat/Code/vuempaproject/src/views/UploadView.vue"],"sourcesContent":["<script setup>\n/* eslint-disable */\nimport { ref } from 'vue'\nimport { reactive } from 'vue'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport { useRouter, useRoute } from 'vue-router'\nimport { getAccountInfo } from '@/scripts/AccountFunc'\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst fileName = ref(null)\nconst fileSize = ref(\"0 Kb\")\nconst accountName = ref(null)\nconst validLabel = ref(true)\nconst labelValue = ref('')\n\nfunction changeFileInfo(event){\n  fileName.value = event.target.files[0].name\n  fileSize.value = formatFileSize(event.target.files[0].size)\n}\n\nconst formatFileSize = (bytes) => {\n  const units = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  let index = 0;\n  while (bytes >= 1024 && index < 4) {\n    bytes /= 1024;\n    index++;\n  }\n  return `${bytes.toFixed(0)} ${units[index]}`\n};\n\nfunciton checkValidLabel(){\n  \n}\n\nfunction uploadFile(){\n  console.log(document.getElementById('file').files[0])\n    if (document.getElementById('file').files[0] === undefined){\n      alert(\"No file specified\") \n      return 0\n    }\n    const formData = new FormData()\n    let filenameToSet  = String(Date.now()/1000)\n    if (labelValue.value !== \"\") {filenameToSet = labelValue.value}\n    formData.append('file', document.getElementById('file').files[0], filenameToSet)\n    axios.post(\"http://localhost:7000/api/uploadFile\", \n              formData, \n              {headers: {\"Content-Type\" : 'multipart/form-data', \n                        'Authorization': `Bearer ${Cookies.get('session_cookie')}`} })\n    .then(response => {\n      alert(response.data)\n      router.push({name:'dashboard'})\n    })\n    .catch(error => {\n      alert(\"Please use alpha numeric charectors and _ only\")\n      console.error('Error uploading file  :', error);\n    });\n  }\n\n\ngetAccountInfo().then(name => {accountName.value = name})\n</script>\n\n<template>\n\n  <div class=\"background\"></div>\n\n  <div class=\"titleWrapper\">\n      \n      <h1 class=\"titleText\">\n          <RouterLink to=\"home\"> ADR Prediction</RouterLink>\n      </h1>\n      \n      <label class=\"accountName\">{{accountName || \"No account\"}}</label>\n\n      \n  </div>\n  \n  <div class=\"headingWrapper\">\n      <h2 class=\"heading\">\n        Upload your DNA file (.FastQ)\n      </h2>\n  </div>\n  \n  <div class=\"uploadButtonWrapper\">\n    <div style=\"position: absolute; font-family: Arial, Helvetica, sans-serif; font-size: 1.5em; top: 8%; left: 50%; transform:translate(-50%,-50%)\">Select <i>FastQ</i> file to upload:</div> \n    <input type=\"file\" name=\"file\" id=\"file\" class=\"inputUploadfile\" accept=\".txt, .fq, .FastQ, .fastq\" @change=\"changeFileInfo\"/>\n    <label for=\"file\"><div style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);\">CLICK TO UPLOAD</div></label>\n    <div class=\"uploadFilenameDisplay\">File selected : {{fileName || \"None\"}} Size : {{fileSize}}</div>\n\n    <input maxlength=\"100\" type=\"text\" id=\"name\" class=\"box\" v-model=\"labelValue\" style=\"position: absolute; top: 75%; left: 50%; transform: translate(-50%,-50%);\" v-if=\"validLabel\" placeholder=\"Input sequece label / identifier (please don't sql inject)\" @change=\"checkValidLabel\">        \n    <div v-else style=\"color: red; font-size: 0.9em; position: absolute; top: 75%; left: 50%; transform: translate(-50%,-50%);\" >\n        <input maxlength=\"100\" type=\"password\" id=\"password\" class=\"youDidSomethingBadBox\" v-model=\"formData.password\" required placeholder=\"Password\" @change=\"checkValidLabel\"> \n        Password should be atleast 6 characters\n    </div>\n    <div><button class=\"uploadSubmitButton\" @click=\"uploadFile\">Submit</button></div>\n  </div>\n  \n</template>\n\n<style>\n\n\na:link {\n  color: white;\n  text-decoration: none;\n}\n\na:visited {\n  color: white;\n  text-decoration: none;\n}\n\na:hover {\n  color: white;\n}\n\na:active {\n  color: white;\n  text-decoration: none;\n}\n\n.background{\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  padding: 100%;\n  background-color: #EBEBEB;\n}\n\n.titleWrapper{\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    background: #FF6700 ;\n    width: 100%;\n    padding-top: 1%;\n    padding-bottom: 1%;\n}\n\n.titleText{\n    display: inline;\n    padding-left: 1%;\n    color: white;\n    font-weight: 800;\n}\n\n.accountName {\n  position: inherit;\n  font-family: Arial, Helvetica, sans-serif;\n  color: white;\n  font-size: 1.5em;\n  top: 2%;\n  left: 80%;\n}\n\n.headingWrapper{\n    position: absolute;\n    top: 10%;\n    left: 50%;\n}\n\n.heading{\n    transform: translate(-50%);\n    font-size: xx-large;\n}\n\n.uploadButtonWrapper{\n    position: absolute;\n    top: 16%;\n    left: 50%;\n    height: 40%;\n    width: 50%;\n    transform: translate(-50%);\n}\n\n.inputUploadfile {\n\twidth: 0.1px;\n\theight: 0.1px;\n\topacity: 0;\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: -1;\n}\n\n.inputUploadfile + label {\n    position: absolute;\n    left: 50%;\n    top: 40%;\n    width: 80%;\n    height: 50%;\n    transform: translate(-50%,-50%);\n    text-align: center;\n    font-size: 1.7em;\n    font-weight: 700;\n    color: #EBEBEB;\n    background-color: #6a66a3;\n    display: inline-block;\n    border-radius: 4px;\n    border-style: none;\n    \n}\n\n.inputUploadfile + label:hover{\n  cursor: pointer;\n}\n\n.uploadSubmitButton {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%);\n  outline: none;\n  cursor: pointer;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 12px 24px;\n  border: 0;\n  color: #3a4149;\n  background: #FF6700;\n  line-height: 1.15;\n  font-size: 1em;\n\n}\n\n.uploadSubmitButton:hover {\n  transition: all .1s ease;\n  box-shadow: 0 0 0 0 #fff, 0 0 0 3px #1de9b6;\n}\n.uploadFilenameDisplay{\n    position: absolute;\n    left: 50%;\n    top: 82%;\n    transform: translate(-50%);\n    white-space: nowrap;\n}\n\n.uploadedFileViewer{\n    background-color: rgb(161, 61, 99);\n    color: #fff;\n    position: absolute;\n    padding: 2%;\n    border-radius: 4px;\n    border-style: none;\n    white-space: nowrap;\n    top: 15%;\n    left: 50%;\n    transform: translate(-50%);\n    font-size: 2em;\n}\n</style>"],"mappings":";gCAmEEA,mBAAA,CAA8B;EAAzBC,KAAK,EAAC;AAAY;;EAElBA,KAAK,EAAC;AAAc;;EAEjBA,KAAK,EAAC;AAAW;;EAIdA,KAAK,EAAC;AAAa;gCAK9BD,mBAAA,CAIM;EAJDC,KAAK,EAAC;AAAgB,I,aACvBD,mBAAA,CAEK;EAFDC,KAAK,EAAC;AAAS,GAAC,iCAEpB,E;;EAGCA,KAAK,EAAC;AAAqB;gCAC9BD,mBAAA,CAA0L;EAArLE,KAA2I,EAA3I;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAA2I,I,aAvFpJC,gBAAA,CAuFqJ,SAAO,G,aAAAH,mBAAA,CAAY,WAAT,OAAK,G,aAvFpKG,gBAAA,CAuFwK,kBAAgB,E;gCAEpLH,mBAAA,CAAsI;EAA/HI,GAAG,EAAC;AAAM,I,aAACJ,mBAAA,CAA4G;EAAvGE,KAAiF,EAAjF;IAAA;IAAA;IAAA;IAAA;EAAA;AAAiF,GAAC,iBAAe,E;;EACnHD,KAAK,EAAC;AAAuB;;EA1FtCI,GAAA;EA6FgBH,KAA+G,EAA/G;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;;;;uBA7FhBI,mBAAA,CAAAC,SAAA,SAmEEC,UAA8B,EAE9BR,mBAAA,CASM,OATNS,UASM,GAPFT,mBAAA,CAEK,MAFLU,UAEK,GADDC,YAAA,CAAkDC,qBAAA;IAAtCC,EAAE,EAAC;EAAM;IAxE/BC,OAAA,EAAAC,QAAA,CAwEgC,MAAe,CAxE/CZ,gBAAA,CAwEgC,iBAAe,E;IAxE/Ca,CAAA;QA2EMhB,mBAAA,CAAkE,SAAlEiB,UAAkE,EAAAC,gBAAA,CAArCC,IAAA,CAAAC,WAAW,iC,GAK5CC,UAIM,EAENrB,mBAAA,CAYM,OAZNsB,UAYM,GAXJC,UAA0L,EAC1LvB,mBAAA,CAA8H;IAAvHwB,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAACzB,KAAK,EAAC,iBAAiB;IAAC0B,MAAM,EAAC,2BAA2B;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,IAAA,CAAAY,cAAA,IAAAZ,IAAA,CAAAY,cAAA,IAAAD,IAAA,CAAc;qCAC3HE,UAAsI,EACtIhC,mBAAA,CAAmG,OAAnGiC,UAAmG,EAAhE,kBAAgB,GAAAf,gBAAA,CAAEC,IAAA,CAAAe,QAAQ,cAAY,UAAQ,GAAAhB,gBAAA,CAAEC,IAAA,CAAAgB,QAAQ,kBAE2EhB,IAAA,CAAAiB,UAAU,G,+BAAhL9B,mBAAA,CAAqR;IA5FzRD,GAAA;IA4FWgC,SAAS,EAAC,KAAK;IAACb,IAAI,EAAC,MAAM;IAACE,EAAE,EAAC,MAAM;IAACzB,KAAK,EAAC,KAAK;IA5F5D,uBAAA4B,MAAA,QAAAA,MAAA,MAAAS,MAAA,IA4FsEnB,IAAA,CAAAoB,UAAU,GAAAD,MAAA;IAAEpC,KAAiF,EAAjF;MAAA;MAAA;MAAA;MAAA;IAAA,CAAiF;IAAmBsC,WAAW,EAAC,4DAA4D;IAAEZ,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,IAAA,CAAAsB,eAAA,IAAAtB,IAAA,CAAAsB,eAAA,IAAAX,IAAA,CAAe;kEAAjNX,IAAA,CAAAoB,UAAU,E,mBAC5EjC,mBAAA,CAGM,OAHNoC,WAGM,G,gBAFF1C,mBAAA,CAAyK;IAAlKqC,SAAS,EAAC,KAAK;IAACb,IAAI,EAAC,UAAU;IAACE,EAAE,EAAC,UAAU;IAACzB,KAAK,EAAC,uBAAuB;IA9F1F,uBAAA4B,MAAA,QAAAA,MAAA,MAAAS,MAAA,IA8FoGnB,IAAA,CAAAwB,QAAQ,CAACC,QAAQ,GAAAN,MAAA;IAAEO,QAAQ,EAAR,EAAQ;IAACL,WAAW,EAAC,UAAU;IAAEZ,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,IAAA,CAAAsB,eAAA,IAAAtB,IAAA,CAAAsB,eAAA,IAAAX,IAAA,CAAe;iEAA3EX,IAAA,CAAAwB,QAAQ,CAACC,QAAQ,E,GA9FrHzC,gBAAA,CA8FiL,2CAE7K,E,IACAH,mBAAA,CAAiF,cAA5EA,mBAAA,CAAsE;IAA9DC,KAAK,EAAC,oBAAoB;IAAE6C,OAAK,EAAAjB,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,IAAA,CAAA4B,UAAA,IAAA5B,IAAA,CAAA4B,UAAA,IAAAjB,IAAA,CAAU;KAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}