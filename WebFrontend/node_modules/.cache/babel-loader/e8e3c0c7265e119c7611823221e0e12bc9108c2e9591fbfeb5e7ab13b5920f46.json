{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { useRouter, useRoute } from 'vue-router';\nimport { sha256 } from 'js-sha256';\nexport default {\n  __name: 'LoginView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const router = useRouter();\n    const route = useRoute();\n\n    // Hash function\n    const formData = ref({\n      email: '',\n      password: ''\n    });\n    const formCheck = ref(true);\n    function GetExpirationDate(duration) {\n      const expirationDate = new Date();\n      expirationDate.setTime(expirationDate.getTime() + duration * 1000);\n      return expirationDate;\n    }\n    function sendLoginData() {\n      axios.post('http://localhost:7000/api/login', {\n        email: formData.value.email,\n        password: sha256(formData.value.password)\n      }).then(response => {\n        if (response.data[\"success\"]) {\n          formCheck.value = true;\n          Cookies.set('session_cookie', response.data[\"sessionCookie\"], {\n            expires: GetExpirationDate(response.data['duration'])\n          });\n\n          // REDIRECT TO MAIN PAGE :)\n        } else {\n          formCheck.value = false;\n        }\n      }).catch(error => {\n        console.error('Error signing up user:', error);\n        // Handle error (e.g., display error message to user)\n      });\n    }\n    const __returned__ = {\n      router,\n      route,\n      formData,\n      formCheck,\n      GetExpirationDate,\n      sendLoginData,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get Cookies() {\n        return Cookies;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get sha256() {\n        return sha256;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","Cookies","useRouter","useRoute","sha256","router","route","formData","email","password","formCheck","GetExpirationDate","duration","expirationDate","Date","setTime","getTime","sendLoginData","post","value","then","response","data","set","expires","catch","error","console"],"sources":["/home/sirat/Code/vuempaproject/src/views/LoginView.vue"],"sourcesContent":["<script setup>\n/* eslint-disable */\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport { useRouter, useRoute } from 'vue-router'\n\nconst router = useRouter()\nconst route = useRoute()\n\n// Hash function\nimport { sha256 } from 'js-sha256'\n\nconst formData = ref({\n  email: '',\n  password: ''\n})\n\n\nconst formCheck = ref(true)\n\nfunction GetExpirationDate(duration){\n  const expirationDate = new Date()\n  expirationDate.setTime(expirationDate.getTime() + duration*1000)\n  return expirationDate\n}\n\nfunction sendLoginData(){\n  axios.post('http://localhost:7000/api/login', {email : formData.value.email, password : sha256(formData.value.password)})\n    .then(response => {\n      if (response.data[\"success\"]){\n        formCheck.value = true\n        Cookies.set('session_cookie', response.data[\"sessionCookie\"], {expires : GetExpirationDate(response.data['duration'])})\n\n        // REDIRECT TO MAIN PAGE :)\n\n      } else {\n        formCheck.value = false\n      }\n    })\n    .catch(error => {\n      console.error('Error signing up user:', error);\n      // Handle error (e.g., display error message to user)\n    });\n}\n\n</script>\n\n<template>\n\n  <div class=\"background\"></div>\n\n  <div class=\"titleWrapper\">\n      \n      <h1 class=\"titleText\">\n        <a href=\"index.html\">ADR Prediction</a>\n      </h1>\n      \n  </div>\n  \n    <h2 class=\"loginHeading\">\n      Login\n    </h2>\n\n    <div class=\"inputForm\" action=\"\">\n      <div>      \n\n        <input type=\"email\" id=\"email\" class=\"box\" v-model=\"formData.email\" v-if=\"formCheck\" required placeholder=\"Email\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"email\" id=\"email\" class=\"youDidSomethingBadBox\" v-model=\"formData.email\" required placeholder=\"Email\"> \n        </div>\n        \n      </div>\n      <br>\n      <div>\n\n        <input type=\"password\" id=\"password\" class=\"box\" v-model=\"formData.password\" v-if=\"formCheck\" required placeholder=\"Password\">\n        <div v-else style=\"color: red; font-size: 0.9em;\">\n          <input type=\"password\" id=\"password\" class=\"youDidSomethingBadBox\" v-model=\"formData.password\" required placeholder=\"Password\"> \n          Email or password is incorrect\n        </div>\n\n      </div>\n\n      <button @click=\"sendLoginData\" class=\"loginSubmitButton\">Login</button>\n      <a href=\"signup.html\" class=\"redirectToSignup\" > Don't have an account? <u>Sign up</u></a>\n      \n    </div>\n    \n</template>\n\n<style>\n\na:link {\n  color: white;\n  text-decoration: none;\n}\n\na:visited {\n  color: white;\n  text-decoration: none;\n}\n\na:hover {\n  color: white;\n}\n\na:active {\n  color: white;\n  text-decoration: none;\n}\n\n.background{\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  padding: 100%;\n  background-color: #EBEBEB;\n}\n\n.titleWrapper{\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    background: #FF6700 ;\n    width: 100%;\n    padding-top: 1.5%;\n    padding-bottom: 1%;\n}\n\n.titleText{\n    font-family: Arial, Helvetica, sans-serif;\n    display: inline;\n    padding-left: 1%;\n    color: white;\n    font-weight: 800;\n}\n\n.loginLink{\n  position: inherit;\n  top: 2.5%;\n  left: 85%;\n}\n\n.signupLink{\n  position: inherit;\n  top: 2.5%;\n  left: 92%;\n}\n\n.loginHeading{\n  font-family: Arial, Helvetica, sans-serif;\n  position: absolute;\n  top: 6%;\n  left: 50%;\n  transform: translate(-50%);\n  font-weight: 900;\n  font-size: 2.6em;\n}\n\n.inputForm{\n  position: absolute;\n  top: 15%;\n  left: 50%;\n  transform: translate(-50%);\n}\n\n/* The input box thing lol */ \n\n.box{\n  border: 3px solid #000;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing:border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}\n.box:focus{\n  border: 3px solid #2B4570;\n}\n\n.youDidSomethingBadBox {\n  border: 3px solid red;\n  border-radius: 5px;\n  height: 60px;\n  line-height: normal;\n  color: #282828;\n  display: block;\n  width: 500px;\n  box-sizing:border-box;\n  user-select: auto;\n  font-size: 16px;\n  padding: 0 6px;\n  padding-left: 12px;\n}                \n                \n/* The submit button */\n.loginSubmitButton{\n  position: inherit;\n  top: 118%;\n  left: 50%;\n  display: inline-block;\n  outline: none;\n  cursor: pointer;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 12px 24px;\n  border: 0;\n  color: #3a4149;\n  background: #FF6700;\n  line-height: 1.15;\n  font-size: 1em;\n  transform: translate(-50%);\n}\n  .loginSubmitButton:hover {\n  transition: all .1s ease;\n  box-shadow: 0 0 0 0 #fff, 0 0 0 3px #1de9b6;\n}\n\n.redirectToSignup {\n  position: absolute; \n  top: 165%; \n  left: 50%; \n  transform: translate(-50%);\n  background: #FF6700 ;\n  padding: 5px;\n  border-radius: 3px;\n}\n\n</style>"],"mappings":"AAEA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;AAMhD,SAASC,MAAM,QAAQ,WAAW;;;;;;;;IAVlC;IAMA,MAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;IAC1B,MAAMI,KAAK,GAAGH,QAAQ,CAAC,CAAC;;IAExB;IAGA,MAAMI,QAAQ,GAAGR,GAAG,CAAC;MACnBS,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC,CAAC;IAGF,MAAMC,SAAS,GAAGX,GAAG,CAAC,IAAI,CAAC;IAE3B,SAASY,iBAAiBA,CAACC,QAAQ,EAAC;MAClC,MAAMC,cAAc,GAAG,IAAIC,IAAI,CAAC,CAAC;MACjCD,cAAc,CAACE,OAAO,CAACF,cAAc,CAACG,OAAO,CAAC,CAAC,GAAGJ,QAAQ,GAAC,IAAI,CAAC;MAChE,OAAOC,cAAc;IACvB;IAEA,SAASI,aAAaA,CAAA,EAAE;MACtBjB,KAAK,CAACkB,IAAI,CAAC,iCAAiC,EAAE;QAACV,KAAK,EAAGD,QAAQ,CAACY,KAAK,CAACX,KAAK;QAAEC,QAAQ,EAAGL,MAAM,CAACG,QAAQ,CAACY,KAAK,CAACV,QAAQ;MAAC,CAAC,CAAC,CACtHW,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAIA,QAAQ,CAACC,IAAI,CAAC,SAAS,CAAC,EAAC;UAC3BZ,SAAS,CAACS,KAAK,GAAG,IAAI;UACtBlB,OAAO,CAACsB,GAAG,CAAC,gBAAgB,EAAEF,QAAQ,CAACC,IAAI,CAAC,eAAe,CAAC,EAAE;YAACE,OAAO,EAAGb,iBAAiB,CAACU,QAAQ,CAACC,IAAI,CAAC,UAAU,CAAC;UAAC,CAAC,CAAC;;UAEvH;QAEF,CAAC,MAAM;UACLZ,SAAS,CAACS,KAAK,GAAG,KAAK;QACzB;MACF,CAAC,CAAC,CACDM,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9C;MACF,CAAC,CAAC;IACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}